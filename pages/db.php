<?php
class DB {

	private $pdo;

	private static function connect() {
		// $pdo = new PDO('mysql:host=127.0.0.1;dbname=Ignition_App;charset=utf8', 'root', '');
		$pdo = new PDO('mysql:host=132.148.248.66;dbname=Ignition_App;charset=utf8', 'Joseph_Shenton', '10Lilylane05?');
		$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
		return $pdo;
	}

	public static function query($query, $params = array()) {
		$statement = self::connect()->prepare($query);
		$statement->execute($params);

		if (explode(' ', $query)[0] == 'SELECT') {
			$data      = $statement->fetchAll();
			$statement = null;
			$pdo       = null;
			return $data;
		}
	}

}

?>